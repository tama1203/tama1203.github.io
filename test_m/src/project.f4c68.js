window.__require=function t(e,o,i){function n(s,_){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var a="function"==typeof __require&&__require;if(!_&&a)return a(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return n(e[s][1][t]||t)},l,l.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({BasePachinko:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","BasePachinko");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Score10"),s=t("./Random"),_=cc._decorator,c=_.ccclass,a=_.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e.nodeFire=null,e.nodeFire2=null,e.nodeTest=null,e.editBoxFire=null,e.toggleOrientation=null,e.toggleFullScreen=null,e.toggleRandom=null,e.toggleTestRandom=null,e.labelRandomResult=null,e.label=null,e.fitWidth=!1,e.enableShapeBit=!1,e.canvas=null,e.isiPhone=!1,e.isiPad=!1,e.isiPod=!1,e.isAndroid=!1,e.randomResultMax=new Array(o.RANDOM_MAX),e.isTestRandom=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){cc.game.setFrameRate(61),cc.log(window.navigator.userAgent,window.navigator.userAgent.indexOf("iPhone")),cc.log(window.innerWidth,window.innerHeight,window.outerWidth,window.outerHeight);var t=window.navigator.userAgent.toLowerCase();this.isiPhone=t.indexOf("iphone")>=0,this.isiPad=t.indexOf("ipad")>=0,this.isiPod=t.indexOf("ipod")>=0,this.isAndroid=t.indexOf("android")>=0,this.canvas=this.getComponent(cc.Canvas),this.isiPhone||this.isiPod||this.isAndroid?(cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),this.fitWindow(),cc.view.enableRetina(!0),cc.view.adjustViewportMeta(!0),cc.view.setDesignResolutionSize(640,1066,cc.ResolutionPolicy.SHOW_ALL),cc.view.resizeWithBrowserSize(!0)):(cc.view.resizeWithBrowserSize(!0),cc.view.enableRetina(!0)),cc.log(this.canvas.designResolution);var e=document.getElementById("GameCanvas");this.label.string="window: "+window.innerWidth+","+window.innerHeight+" ("+window.outerWidth+","+window.outerHeight+")\ncanvas: "+this.canvas.designResolution.width+","+this.canvas.designResolution.height+" ("+e.getAttribute("width")+","+e.getAttribute("height")+")\n"+window.navigator.userAgent+"\n"+this.label.string;var o=cc.director.getPhysicsManager();o.enabled=!0,this.enableShapeBit&&(o.debugDrawFlags=cc.PhysicsManager.DrawBits.e_shapeBit),o.enabledAccumulator=!0,cc.PhysicsManager.FIXED_TIME_STEP=1/60,cc.PhysicsManager.VELOCITY_ITERATIONS=10,cc.PhysicsManager.POSITION_ITERATIONS=10,window.onresize=function(){cc.log("window.onresize: ",window.innerWidth,window.outerWidth,window.innerHeight,window.outerHeight),this.label.string="window.onresize\n"+this.label.string,this.fitWindow()}.bind(this)},e.prototype.start=function(){this.isTestRandom=!1,(this.isiPhone||this.isiPod||this.isiPad)&&(this.toggleFullScreen.node.active=!1)},e.prototype.update=function(t){if(this.isTestRandom)for(var e=0;e<1e4;e++){var i=s.default.nextIntEx(o.RANDOM_MAX);this.randomResultMax[i]++}},e.prototype.fitWindow=function(){var t=document.getElementById("GameCanvas"),e=cc.view.getDesignResolutionSize();this.label.string="window: "+window.innerWidth+","+window.innerHeight+" ("+window.outerWidth+","+window.outerHeight+")\ncanvas: "+this.canvas.designResolution.width+","+this.canvas.designResolution.height+" ("+t.getAttribute("width")+","+t.getAttribute("height")+")\nview: "+e.width+","+e.height+"\nfit(w/h): "+this.canvas.fitWidth+"/"+this.canvas.fitHeight+"\n"+this.label.string},e.prototype.initCanvasSize=function(){if(!(window.outerWidth>window.outerHeight)&&(this.isiPhone||this.isiPod||this.isAndroid)){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,o=document.body,i=window.outerHeight,n=i+"px";cc.log(e,o.style.height,n),o.style.height=n;var r=this.canvas.designResolution.width*(e/t);this.canvas.designResolution=cc.size(this.canvas.designResolution.width,Math.floor(r)),cc.log(r);var s=document.getElementById("GameDiv");s&&(s.style.position="static",s.style.height=n,cc.log(n,document.getElementById("GameDiv")));var _=document.getElementById("Cocos2dGameContainer");cc.log(_),_&&(_.style.height=n,cc.log(n,document.getElementById("Cocos2dGameContainer")));var c=document.getElementById("GameCanvas");if(cc.log(c),c){var a=c.getAttribute("width")+"",l=parseInt(a)/window.innerWidth,u=i*l+"";c.style.height=n,c.setAttribute("height",u),cc.log(l,u,document.getElementById("GameCanvas")),this.label.string=l+" "+a+","+u+"\n"+this.label.string}}},e.prototype.updateCanvasSize=function(t){},e.prototype.onClickToggleFullScreen=function(){cc.log("onClickToggleFullScreen");var t=window.document,e=document.getElementById("GameCanvas"),o=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,i=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?(this.toggleFullScreen.isChecked=!1,i.call(t)):(this.toggleFullScreen.isChecked=!0,o.call(e))},e.prototype.onClickButtonBUTTON=function(){cc.log("onClickButtonBUTTON")},e.prototype.onClickToggleTestRandom=function(){if(cc.log("onClickToggleTestRandom"),this.toggleTestRandom)if(cc.log(this.toggleTestRandom.isChecked),this.toggleTestRandom.isChecked){for(var t=0;t<this.randomResultMax.length;t++)this.randomResultMax[t]=0;this.isTestRandom=!0}else{this.isTestRandom=!1;for(var e="",o=0,i=0;i<this.randomResultMax.length;i++){var n=this.randomResultMax[i];o+=n,e+=n.toString(16)+" "}e+=Math.floor(o/this.randomResultMax.length).toString(16)+" "+o.toString(16)+" ("+o+")",cc.log(e),this.labelRandomResult&&(this.labelRandomResult.string=e)}},e.prototype.onClickButtonPAUSE=function(){var t=cc.director.getPhysicsManager();t.enabled=!t.enabled},e.prototype.onClickButtonFire=function(){this.score.setScore(this.score.getScore()+1),this.startBall2()},e.prototype.onClickButtonTest=function(){cc.loader.loadRes("assets/prefab/ball",function(t,e){for(var o=0;o<this.nodeTest.childrenCount;o++){var i=cc.instantiate(e);this.nodeTest.children[o].addChild(i),i.x=0,i.y=0,i.active=!0}}.bind(this))},e.prototype.onClickButtonClear=function(){for(var t=0;t<this.nodeTest.childrenCount;t++)for(var e=0;e<this.nodeTest.children[t].childrenCount;e++)this.nodeTest.children[t].children[e].destroy();for(t=0;t<this.nodeFire.childrenCount;t++)this.nodeFire.children[t].destroy()},e.prototype.onClickToggleOrientation=function(){},e.prototype.startBall=function(){cc.loader.loadRes("assets/prefab/ball",function(t,e){var o=cc.instantiate(e);if(this.nodeFire){this.nodeFire.addChild(o),o.active=!0;var i=o.getComponent(cc.RigidBody);if(i&&this.editBoxFire){var n=parseFloat(this.editBoxFire.string)+20*Math.random(),r=cc.v2(-n,0);i.applyLinearImpulse(r,cc.Vec2.ZERO,!0)}}}.bind(this))},e.prototype.startBall2=function(){cc.loader.loadRes("assets/prefab/ball2",function(t,e){var o=cc.instantiate(e);if(this.nodeFire2){this.nodeFire2.addChild(o),o.active=!0;var i=o.getComponent(cc.RigidBody);if(i&&this.editBoxFire){var n=0;this.toggleRandom.isChecked&&(n=100*Math.random()-50);var r=parseFloat(this.editBoxFire.string)+n,s=cc.v2(0,r);i.applyLinearImpulse(s,cc.Vec2.ZERO,!0)}}}.bind(this))},e.SP_W=640,e.SP_H=960,e.PC_W=960,e.PC_H=720,e.RANDOM_SHIFT=16,e.RANDOM_MAX=17,n([a(r.default)],e.prototype,"score",void 0),n([a(cc.Node)],e.prototype,"nodeFire",void 0),n([a(cc.Node)],e.prototype,"nodeFire2",void 0),n([a(cc.Node)],e.prototype,"nodeTest",void 0),n([a(cc.EditBox)],e.prototype,"editBoxFire",void 0),n([a(cc.Toggle)],e.prototype,"toggleOrientation",void 0),n([a(cc.Toggle)],e.prototype,"toggleFullScreen",void 0),n([a(cc.Toggle)],e.prototype,"toggleRandom",void 0),n([a(cc.Toggle)],e.prototype,"toggleTestRandom",void 0),n([a(cc.Label)],e.prototype,"labelRandomResult",void 0),n([a(cc.Label)],e.prototype,"label",void 0),n([a(cc.Boolean)],e.prototype,"fitWidth",void 0),n([a(cc.Boolean)],e.prototype,"enableShapeBit",void 0),e=o=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Random":"Random","./Score10":"Score10"}],CanvasSize:[function(t,e,o){"use strict";cc._RF.push(e,"162b8e38dBAzo8kqFyVK5+7","CanvasSize");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,_=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.label=null,e.buttonFull=null,e.toggleRetina=null,e.toggleResize=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){if(JSON.parse(cc.sys.localStorage.getItem(o.USER_DATA))&&cc.sys.localStorage.removeItem(o.USER_DATA),this.buttonFull){var t=document.getElementById("GameCanvas"),e=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen;this.buttonFull.interactable=!!e}cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.view.enableRetina(!0),cc.view.resizeWithBrowserSize(!0),this.label.string="PixelRatio: "+cc.view.getDevicePixelRatio()+"\nua: "+window.navigator.userAgent,this.windowSize("onLoad"),window.onresize=function(){this.windowSize("window.onresize")}.bind(this)},e.prototype.start=function(){},e.prototype.onClickToggleRetina=function(){},e.prototype.onClickToggleResize=function(){},e.prototype.onClickButtonFull=function(){var t=window.document,e=document.getElementById("GameCanvas"),o=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,i=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?i&&i.call(t):o&&o.call(e)},e.prototype.onClickButton375=function(){cc.director.loadScene("w375")},e.prototype.onClickButton414=function(){cc.director.loadScene("w414")},e.prototype.onClickButton750=function(){cc.director.loadScene("w750")},e.prototype.onClickButton828=function(){cc.director.loadScene("w828")},e.prototype.windowSize=function(t){cc.log("window.onresize: ",window.innerWidth,window.outerWidth,window.innerHeight,window.outerHeight);var e=document.getElementById("GameCanvas"),o=cc.view.getDesignResolutionSize();this.label.string=t+"\nwindow: "+window.innerWidth+","+window.innerHeight+" ("+window.outerWidth+","+window.outerHeight+")\ncanvas: "+this.canvas.designResolution.width+","+this.canvas.designResolution.height+" ("+e.getAttribute("width")+","+e.getAttribute("height")+")\nview: "+o.width+","+o.height+"\n"+this.label.string},e.USER_DATA="userData",n([_(cc.Canvas)],e.prototype,"canvas",void 0),n([_(cc.Label)],e.prototype,"label",void 0),n([_(cc.Button)],e.prototype,"buttonFull",void 0),n([_(cc.Toggle)],e.prototype,"toggleRetina",void 0),n([_(cc.Toggle)],e.prototype,"toggleResize",void 0),e=o=n([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],OutHole:[function(t,e,o){"use strict";cc._RF.push(e,"41bf2S3FnJDkrWuF94AUMwv","OutHole");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,_=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ball="ball",e}return i(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){switch(o.node.name){case this.ball:o.node.destroy()}},n([_],e.prototype,"ball",void 0),e=n([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Random:[function(t,e,o){"use strict";cc._RF.push(e,"b9541rkKtlGIqsRUp61DvPV","Random");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,_=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.randomInt=function(t){return Math.floor(Math.random()*t)},e.nextIntEx=function(t){if(t<=0)return 0;if((t=Math.floor(t))!=o.range)for(o.base=o.range=t,o.shift=0;o.base<=1<<30&&o.base!=1<<31;o.shift++)o.base<<=1;for(;;){var e=o.randomInt(2147483648);if(e<o.base||o.base==1<<31)return e>>o.shift;var i=o.base,n=o.shift;e-=i;for(var r=(1<<31)-i;r>=t;r-=i){for(;i>r;i>>=1)n--;if(e<i)return e>>n;e-=i}}},e=o=n([s],e)}(cc.Component));o.default=_,cc._RF.pop()},{}],Score10:[function(t,e,o){"use strict";cc._RF.push(e,"372acZ6GuJD0Khyp8OjdUHx","Score10");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Score"),s=cc._decorator,_=s.ccclass,c=s.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score1=null,e.score10=null,e.zeroSuppress=!1,e.score=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.setScore(this.score)},e.prototype.setScore=function(t){this.score=t=Math.floor(t%100),this.score1.setScore(this.score%10),this.score10.setScore(Math.floor(this.score/10)),this.zeroSuppress?this.score10.node.active=this.score>=10:this.score10.node.active=!0},e.prototype.getScore=function(){return this.score},n([c(r.default)],e.prototype,"score1",void 0),n([c(r.default)],e.prototype,"score10",void 0),n([c(cc.Boolean)],e.prototype,"zeroSuppress",void 0),e=n([_],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./Score":"Score"}],Score:[function(t,e,o){"use strict";cc._RF.push(e,"bd7113GdA5Oh4U5lqcJyUb1","Score");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,_=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.score=0,e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.setScore=function(t){this.score=t%=10,this.animation&&this.animation.play("Score"+t)},e.prototype.getScore=function(){return this.score},e=n([s],e)}(cc.Component));o.default=_,cc._RF.pop()},{}],control_code_function:[function(t,e,o){"use strict";cc._RF.push(e,"fddaaDPHqVEDJILZo5PynFa","control_code_function"),Object.defineProperty(o,"__esModule",{value:!0}),o.control_code_function=function(t,e,o,i){},cc._RF.pop()},{}],loop_test:[function(t,e,o){"use strict";cc._RF.push(e,"bce16oCeQVNF4v1JZohNfN3","loop_test"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../System/PlayMotion/motion_timeline"),n=t("../Define/motion_layer_define"),r=t("../Define/motion_timeline_define"),s={frame_rate:30,timeline:[{frame:0,data:[{code:i.MT_CMD.START_MOTION,layer:n.MOTION_LAYER.BG_00,motion:"loop_test"}]},{frame:5,data:[{code:i.MT_CMD.CALL_FUNCTION,func:function(t){t.set_timeline(r.MTL.NH_01,_)}}]},{frame:300,data:[{code:i.MT_CMD.CALL_FUNCTION,func:function(t){t.start_timeline(r.MTL.NH_01)}}]}]};var _={frame_rate:30,timeline:[{frame:0,data:[{code:i.MT_CMD.START_MOTION,layer:n.MOTION_LAYER.BG_00,motion:"loop_test",end_frame:-1}]}]};o.set_motion_loop_test=function(t){t.set_timeline(r.MTL.NH_00,s)},cc._RF.pop()},{"../../../System/PlayMotion/motion_timeline":"motion_timeline","../Define/motion_layer_define":"motion_layer_define","../Define/motion_timeline_define":"motion_timeline_define"}],motion_composition:[function(t,e,o){"use strict";cc._RF.push(e,"81a7b8ygydFkYZyUycTFU1h","motion_composition");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./motion_data_list"),s=t("../../Application/ReferencedBySystem/PlayMotion/control_code_function"),_=cc._decorator,c=_.ccclass,a=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._motion_data=null,e._textures=null,e._audios={},e._sprites_list=null,e._sprites_source=null,e._start_flag=!1,e._frame_countar=-1,e._loop_countar=0,e._end_frame=0,e._motion_index=0,e._frame_rate=30,e._time=-1,e._timeline=null,e._motion_name="",e._motion_key=-1,e}return i(e,t),e.prototype.load_motion_file=function(t,e,o,i,n){var s=this;this._motion_name=t,this._textures=o;var _=null;(null!==e&&(_=e.get_motion_data(t)),null!==_)?(this._textures.load_textures(_.textures),this._motion_data=_):new r.motion_data_list(null).load_motion_file(t,function(t,e){null!==t?cc.error(t):(s._textures.load_textures(e.textures),e.header.hasOwnProperty("rate")&&(s._frame_rate=e.header.rate),s._motion_data=e)});this._timeline=i,this._motion_key=n},e.prototype.delete_self=function(){null!==this._timeline&&this._timeline.delete_motion(this._motion_key),this._end_motion(),this.node.destroy()},e.prototype.clera_timeline=function(){this._timeline=null},e.prototype.check_end_load_motion_file=function(){return null!==this._motion_data},e.prototype.set_audios=function(t){null!==t&&(this._audios=t)},e.prototype.start_motion=function(t){this.clear_motion(),this._end_frame=t,this._start_flag=!0},e.prototype.clear_motion=function(){this._end_motion(),this._frame_countar=-1,this._loop_countar=0,this._end_frame=0,this._start_flag=!1},e.prototype.get_motion_name=function(){return this._motion_name},e.prototype.check_loop=function(){return-1===this._end_frame},e.prototype._set_sprite_texture=function(t,e){if(t.spriteFrame=this._textures.get_texture(e),null!==t.spriteFrame){var o=t.spriteFrame.getRect(),i=t.spriteFrame.getOffset();t.node.anchorX=.5-i.x/o.width,t.node.anchorY=.5-i.y/o.height}},e.prototype.set_sprite_texture=function(t,e){this._sprites_list.hasOwnProperty(t)&&this._set_sprite_texture(this._sprites_list[t].getComponent(cc.Sprite),e)},e.prototype._delete_sprite=function(t){this._sprites_list.hasOwnProperty(t)&&(this.node.removeChild(this._sprites_list[t]),this._sprites_list[t].destroy(),delete this._sprites_list[t],delete this._sprites_source[t])},e.prototype._add_sprite=function(t,e){var o=new cc.Node;this._sprites_list[t]=o,o.addComponent(cc.Sprite),this.node.addChild(o,e),this._sprites_source[t]={tex:null,Control:0,pos:{x:0,y:0},scale:{x:1,y:1},rotate_z:0,opacity:255,blend:"NORMAL"}},e.prototype._end_motion=function(){if(null!==this._sprites_list)for(var t in this._sprites_list)this._delete_sprite(t);this._sprites_list={},this._sprites_source={},this._motion_index=0},e.prototype.get_sprite_tex=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].tex:null},e.prototype.get_sprite_control=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].Control:0},e.prototype.get_sprite_pos=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].pos:{x:0,y:0}},e.prototype.get_sprite_scale=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].scale:{x:1,y:1}},e.prototype.get_sprite_rotate=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].rotate_z:0},e.prototype.get_sprite_opacity=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].opacity:255},e.prototype.get_sprite_blend=function(t){return this._sprites_source.hasOwnProperty(t)?this._sprites_source[t].blend:"NORMAL"},e.prototype._update_sprite=function(t,e){var o=this._sprites_list[t].getComponent(cc.Sprite),i=this._sprites_source[t];if(e.hasOwnProperty("tex")&&(this._set_sprite_texture(o,e.tex),i.tex=e.tex),e.hasOwnProperty("Control")&&(i.Control=e.Control),e.hasOwnProperty("pos")&&e.pos.hasOwnProperty("x")&&e.pos.hasOwnProperty("y")&&(o.node.setPosition(cc.v2(e.pos.x,e.pos.y)),i.pos=e.pos),e.hasOwnProperty("scale")&&e.scale.hasOwnProperty("x")&&e.scale.hasOwnProperty("y")&&(o.node.setScale(cc.v2(e.scale.x,e.scale.y)),i.scale=e.scale),e.hasOwnProperty("rotate")&&e.rotate.hasOwnProperty("z")&&(o.node.angle=e.rotate.z,i.rotate_z=e.rotate.z),e.hasOwnProperty("opacity")&&(o.node.opacity=e.opacity,i.opacity=e.opacity),e.hasOwnProperty("blend")){switch(e.blend){case"NORMAL":o.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,o.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;break;case"MULTIPLY":o.srcBlendFactor=cc.macro.BlendFactor.ZERO,o.dstBlendFactor=cc.macro.BlendFactor.SRC_COLOR;break;case"ADD":o.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,o.dstBlendFactor=cc.macro.BlendFactor.ONE}i.blend=e.blend}},e.prototype._update_one_frame=function(){if(this._frame_countar++,this._frame_countar>=this._motion_data.header.frame){if(0===this._end_frame)return void this.clear_motion();this._end_motion(),this._frame_countar=0,this._loop_countar++}if(0<this._end_frame&&this._motion_data.header.frame*this._loop_countar+this._frame_countar>=this._end_frame)this.clear_motion();else{if(this._motion_data.motion.length>this._motion_index&&this._motion_data.motion[this._motion_index].frame===this._frame_countar){for(var t=0;this._motion_data.motion[this._motion_index].data.length>t;t++){var e=this._motion_data.motion[this._motion_index].data[t];if(e.hasOwnProperty("code"))switch(e.code){case"delete":e.hasOwnProperty("layer")?this._delete_sprite(String(e.layer)):cc.error("\u30e2\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306b layer \u304c\u5b58\u5728\u3057\u306a\u3044\u3002");break;case"add":case"insert":if(e.hasOwnProperty("layer")){var o=e.layer;this._delete_sprite(String(o)),this._add_sprite(String(o),o),this._update_sprite(String(o),e)}else cc.error("\u30e2\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306b layer \u304c\u5b58\u5728\u3057\u306a\u3044\u3002");break;case"update":e.hasOwnProperty("layer")?this._update_sprite(String(e.layer),e):cc.error("\u30e2\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306b layer \u304c\u5b58\u5728\u3057\u306a\u3044\u3002");break;case"play":e.hasOwnProperty("wave")&&this._audios.hasOwnProperty(e.wave)&&cc.audioEngine.playEffect(this._audios[e.wave],!1)}else cc.error("\u30e2\u30fc\u30b7\u30e7\u30f3\u30c7\u30fc\u30bf\u306b code \u304c\u5b58\u5728\u3057\u306a\u3044\u3002")}this._motion_index++}for(var i in this._sprites_list)this._sprites_source[i].hasOwnProperty("Control")&&s.control_code_function(Number(this._sprites_source[i].Control),this._sprites_list[i].getComponent(cc.Sprite),i,this)}},e.prototype.update_frame=function(t){if(!1!==this._start_flag&&(-1===this._time?this._time=1:this._time+=this._frame_rate/t,this.check_end_load_motion_file()&&this._textures.check_end_load_textures()))for(;this._time>=1;)this._update_one_frame(),this._time-=1},e=n([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../Application/ReferencedBySystem/PlayMotion/control_code_function":"control_code_function","./motion_data_list":"motion_data_list"}],motion_control:[function(t,e,o){"use strict";cc._RF.push(e,"54f8aGIknZLYI4w2InwF0KN","motion_control");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./motion_priority"),s=t("./motion_timeline"),_=t("./motion_data_list"),c=t("./motion_textures"),a=cc._decorator,l=a.ccclass;a.property;o.create_motion_control=function(t,e,o,i){var n=(new cc.Node).addComponent(u);return n.load_common_motions(e),n.load_common_textures(o),n.init_timeline_array(t),void 0!==i&&n.set_frame_rate(i),n};var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._priority_control={},e._timeline=null,e._common_motions=null,e._common_textures=null,e._audios={},e._frame_rate=60,e._time=-1,e._pause_flag=!1,e._frame_advance_flag=!1,e}return i(e,t),e.prototype.set_priority_control=function(t,e,o,i){var n=new cc.Node,s=n.addComponent(r.default);s.set_border(o,i),this._priority_control[t]=s,this.node.parent.addChild(n,e)},e.prototype.init_timeline_array=function(t){this._timeline=new Array(t);for(var e=0;this._timeline.length>e;e++)null!==this._timeline[e]&&(this._timeline[e]=null)},e.prototype.set_frame_rate=function(t){this._frame_rate=t},e.prototype.set_timeline=function(t,e,o){void 0===o&&(o=0),this._timeline.length>t&&(null!==this._timeline[t]&&this._timeline[t].delete_self(),this._timeline[t]=new s.motion_timeline(e,this,this._priority_control,o,this._common_motions,this._common_textures))},e.prototype.set_audios=function(t){this._audios=t;for(var e=0;this._timeline.length>e;e++)null!==this._timeline[e]&&this._timeline[e].set_audios(this._audios)},e.prototype.load_common_motions=function(t){this._common_motions=new _.motion_data_list(null),this._common_motions.load_motion_file_list(t)},e.prototype.load_common_textures=function(t){this._common_textures=new c.motion_textures(null),this._common_textures.load_textures(t)},e.prototype.start_timeline=function(t){if(void 0===t)for(var e=0;this._timeline.length>e;e++)null!==this._timeline[e]&&this._timeline[e].start_timeline();else this._timeline.length>t&&null!==this._timeline[t]&&this._timeline[t].start_timeline()},e.prototype.check_end_load_all=function(){for(var t=0;this._timeline.length>t;t++)if(null!==this._timeline[t]&&!this._timeline[t].check_end_load_all())return!1;return!0},e.prototype.set_pause_flag=function(t){this._pause_flag=t},e.prototype.set_frame_advance=function(){this._frame_advance_flag=!0},e.prototype._update_one_frame=function(){for(var t=0;this._timeline.length>t;t++)null!==this._timeline[t]&&this._timeline[t].update_frame(this._frame_rate);for(var e in this._priority_control)this._priority_control[Number(e)].update_frame(this._frame_rate)},e.prototype.update=function(t){for(-1===this._time?this._time=1:this._time+=t*this._frame_rate;this._time>=1;){var e=!1;this._pause_flag?this._frame_advance_flag&&(e=!0):e=!0,this._frame_advance_flag=!1,e&&this._update_one_frame(),this._time-=1}},e=n([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./motion_data_list":"motion_data_list","./motion_priority":"motion_priority","./motion_textures":"motion_textures","./motion_timeline":"motion_timeline"}],motion_data_list:[function(t,e,o){"use strict";cc._RF.push(e,"945e5SrBFJMCY5FPJla2PZD","motion_data_list"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Application/ReferencedBySystem/PlayMotion/motion_path"),n=function(){function t(t){this._common_list=null,this._list={},this._load_start_flag=!1,this._loading_list={},this._error_list={},this._loaded_list={},this._common_list=t}return t.prototype.load_motion_file_list=function(t){for(var e=this,o=function(o){var n=t[o];i.check_exists_in_list_and_load(n)||(i._loading_list[n]=n,i.load_motion_file(n,function(t,o){t?(cc.error(t),e._error_list[n]=n,delete e._loading_list[n]):(e._loaded_list[n]=o,delete e._loading_list[n])}))},i=this,n=0;t.length>n;n++)o(n);this._load_start_flag=!0},t.prototype.load_motion_file=function(t,e){if(this._list.hasOwnProperty(t))e(null,this._list[t]);else{var o=this;cc.loader.loadRes(i.get_motion_path(t)+t,function(i,n){null!==i?(cc.error(i),e(i,null)):(e(i,n.json),o._list[t]=n.json)})}},t.prototype.check_end_load_textures=function(){return!!this._load_start_flag&&(0===Object.keys(this._loading_list).length&&(null===this._common_list||this._common_list.check_end_load_textures()))},t.prototype.check_exists_in_list_and_load=function(t){return!!this._loading_list.hasOwnProperty(t)||(!!this._loaded_list.hasOwnProperty(t)||null!==this._common_list&&this._common_list.check_exists_in_list_and_load(t))},t.prototype.get_motion_data=function(t){return this._loaded_list.hasOwnProperty(t)?this._loaded_list[t]:null===this._common_list?null:this._common_list.get_motion_data(t)},t}();o.motion_data_list=n,cc._RF.pop()},{"../../Application/ReferencedBySystem/PlayMotion/motion_path":"motion_path"}],motion_layer_define:[function(t,e,o){"use strict";cc._RF.push(e,"609e0K/fBJPDpxbAy6dur5f","motion_layer_define"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.DISPLAY=0]="DISPLAY",t[t.LAMP=1]="LAMP"}(o.PRIORITY_CONTROL_ID||(o.PRIORITY_CONTROL_ID={})),function(t){t[t.BG_00=0]="BG_00",t[t.BG_01=1]="BG_01",t[t.YOKOKU_BACK_00=2]="YOKOKU_BACK_00",t[t.YOKOKU_BACK_01=3]="YOKOKU_BACK_01",t[t.YOKOKU_BACK_02=4]="YOKOKU_BACK_02",t[t.ZUGARA_L=5]="ZUGARA_L",t[t.ZUGARA_R=6]="ZUGARA_R",t[t.ZUGARA_C=7]="ZUGARA_C",t[t.YOKOKU_FRONT_00=8]="YOKOKU_FRONT_00",t[t.YOKOKU_FRONT_01=9]="YOKOKU_FRONT_01",t[t.YOKOKU_FRONT_02=10]="YOKOKU_FRONT_02",t[t.FG_00=11]="FG_00",t[t.FG_01=12]="FG_01",t[t.LAMP_BG=13]="LAMP_BG",t[t.LAMP_ZUGARA=14]="LAMP_ZUGARA",t[t.LAMP_YOKOKU_00=15]="LAMP_YOKOKU_00",t[t.LAMP_YOKOKU_01=16]="LAMP_YOKOKU_01",t[t.LAMP_YOKOKU_02=17]="LAMP_YOKOKU_02",t[t.DISPLAY_START=0]="DISPLAY_START",t[t.DISPLAY_END=12]="DISPLAY_END",t[t.LAMP_START=13]="LAMP_START",t[t.LAMP_END=17]="LAMP_END"}(o.MOTION_LAYER||(o.MOTION_LAYER={})),cc._RF.pop()},{}],motion_path:[function(t,e,o){"use strict";cc._RF.push(e,"03139ZhyTRM9L07kf51VN20","motion_path"),Object.defineProperty(o,"__esModule",{value:!0}),o.get_motion_path=function(t){return"assets/motion/"},cc._RF.pop()},{}],motion_priority:[function(t,e,o){"use strict";cc._RF.push(e,"d1b6fy1yftJn7HPHpjRv1oX","motion_priority");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,_=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._motion_layer_list={},e._start_border=0,e._end_border=0,e}return i(e,t),e.prototype.set_border=function(t,e){this._start_border=t,this._end_border=e},e.prototype.check_priority=function(t){return t>=this._start_border&&t<=this._end_border},e.prototype.set_motion=function(t,e){this._motion_layer_list.hasOwnProperty(t)&&this.clear_layer(t),this._motion_layer_list[t]=e,this.node.addChild(e.node,t)},e.prototype.clear_layer=function(t){if(this._motion_layer_list.hasOwnProperty(t)){var e=this._motion_layer_list[t];delete this._motion_layer_list[t],this.node.removeChild(e.node),e.delete_self()}},e.prototype.get_layer_motion_name=function(t){return this._motion_layer_list.hasOwnProperty(t)?this._motion_layer_list[t].get_motion_name():""},e.prototype.check_loop_motion=function(t){return!!this._motion_layer_list.hasOwnProperty(t)&&this._motion_layer_list[t].check_loop()},e.prototype.update_frame=function(t){for(var e in this._motion_layer_list)this._motion_layer_list[Number(e)].update_frame(t)},e=n([s],e)}(cc.Component));o.default=_,cc._RF.pop()},{}],motion_textures:[function(t,e,o){"use strict";cc._RF.push(e,"ef67edTAb9PobJDOOCQhzK0","motion_textures"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Application/ReferencedBySystem/PlayMotion/texutreList"),n=function(){function t(t){this._common_list=null,this._load_start_flag=!1,this._loading_list={},this._error_list={},this._loaded_list={},this._common_list=t}return t.prototype.load_textures=function(t){for(var e=this,o=function(o){var n=t[o];i.check_exists_in_list_and_load(n)||(i._loading_list[n]=n,cc.loader.loadRes(i._get_texture_path(n)+n,cc.SpriteFrame,function(t,o){t?(cc.error(t),e._error_list[n]=n,delete e._loading_list[n]):(e._loaded_list[o.name]=o,delete e._loading_list[o.name])}))},i=this,n=0;t.length>n;n++)o(n);this._load_start_flag=!0},t.prototype.set_textures=function(t){for(var e=0;t.length>e;e++)this._loaded_list[t[e].name]=t[e],this._loaded_list.hasOwnProperty(t[e].name)&&delete this._loading_list[t[e].name]},t.prototype.check_end_load_textures=function(){return!!this._load_start_flag&&(0===Object.keys(this._loading_list).length&&(null===this._common_list||this._common_list.check_end_load_textures()))},t.prototype.check_exists_in_list_and_load=function(t){return!!this._loading_list.hasOwnProperty(t)||(!!this._loaded_list.hasOwnProperty(t)||null!==this._common_list&&this._common_list.check_exists_in_list_and_load(t))},t.prototype.get_texture=function(t){return this._loaded_list.hasOwnProperty(t)?this._loaded_list[t]:null===this._common_list?null:this._common_list.get_texture(t)},t.prototype._get_texture_path=function(t){return i.texturesList.hasOwnProperty(t)?i.texturesList[t]:""},t}();o.motion_textures=n,cc._RF.pop()},{"../../Application/ReferencedBySystem/PlayMotion/texutreList":"texutreList"}],motion_timeline_define:[function(t,e,o){"use strict";cc._RF.push(e,"7b237XIrT9F1aWkG/QyomBc","motion_timeline_define"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.CTRL_00=0]="CTRL_00",t[t.CTRL_01=1]="CTRL_01",t[t.NH_00=2]="NH_00",t[t.NH_01=3]="NH_01",t[t.NH_02=4]="NH_02",t[t.NH_03=5]="NH_03",t[t.NH_04=6]="NH_04",t[t.NH_05=7]="NH_05",t[t.SP_00=8]="SP_00",t[t.SP_01=9]="SP_01",t[t.SP_02=10]="SP_02",t[t.YK_00=11]="YK_00",t[t.YK_02=12]="YK_02",t[t.YK_03=13]="YK_03",t[t.YK_04=14]="YK_04",t[t.YK_05=15]="YK_05",t[t.YK_06=16]="YK_06",t[t.ELEMENT_COUNT=17]="ELEMENT_COUNT"}(o.MTL||(o.MTL={})),cc._RF.pop()},{}],motion_timeline:[function(t,e,o){"use strict";cc._RF.push(e,"f388cq0FpxNuLrwTylHNQe2","motion_timeline"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("./motion_composition"),r=t("./motion_textures");(function(t){t[t.START_MOTION=0]="START_MOTION",t[t.CLEAR_LAYER=1]="CLEAR_LAYER",t[t.CALL_FUNCTION=2]="CALL_FUNCTION"})(i=o.MT_CMD||(o.MT_CMD={}));var s=function(){function t(t,e,o,s,_,c){this._motion_control=null,this._priority_control=null,this._common_textures=null,this._private_textures=null,this._motion_timeline=null,this._motion_list={},this._motion_load_count=0,this._motion_start_count=0,this._start_flag=!1,this._frame_countar=-1,this._wait_frame=0,this._timeline_index=0,this._time=-1,this._audios={},this._motion_control=e,this._priority_control=o,this._wait_frame=s,this._common_textures=c,this._private_textures=new r.motion_textures(this._common_textures),this._motion_timeline=t;for(var a=0;this._motion_timeline.timeline.length>a;a++)for(var l=0;this._motion_timeline.timeline[a].data.length>l;l++){var u=this._motion_timeline.timeline[a].data[l];if(i.START_MOTION===u.code){var p=u,h=(new cc.Node).addComponent(n.default);this._motion_list[this._motion_load_count]=h,h.load_motion_file(p.motion,_,this._private_textures,this,this._motion_load_count),this._motion_load_count++}}}return t.prototype.delete_self=function(){for(var t in this._motion_list)this._motion_list[t].clera_timeline()},t.prototype.check_end_load_all=function(){if(this._private_textures.check_end_load_textures()){for(var t in this._motion_list)if(!1===this._motion_list[Number(t)].check_end_load_motion_file())return!1;return!0}return!1},t.prototype.delete_motion=function(t){this._motion_list.hasOwnProperty(t)&&delete this._motion_list[t]},t.prototype.set_audios=function(t){for(var e in this._audios=t,this._motion_list)this._motion_list[Number(e)].set_audios(this._audios)},t.prototype.start_timeline=function(){this._start_flag=!0},t.prototype._get_priority_controller=function(t){var e=0;for(var o in this._priority_control)if(this._priority_control[Number(o)].check_priority(t)){e=Number(o);break}return this._priority_control[e]},t.prototype._start_motion=function(t){var e=0,o=!1,i=!1,n=!1;void 0!==t.end_frame&&(e=t.end_frame),void 0!==t.check_flag&&(o=t.check_flag),void 0!==t.check_loop_flag&&(i=t.check_loop_flag);var r=this._get_priority_controller(t.layer);(o||i)&&this._motion_list[this._motion_start_count].get_motion_name()===r.get_layer_motion_name(t.layer)&&(o?n=!0:r.check_loop_motion(t.layer)&&(n=!0)),n||(r.set_motion(t.layer,this._motion_list[this._motion_start_count]),this._motion_list[this._motion_start_count].start_motion(e)),this._motion_start_count++},t.prototype._clear_motion=function(t){this._get_priority_controller(t.layer).clear_layer(t.layer)},t.prototype._call_function=function(t){t.func(this._motion_control)},t.prototype._update_one_frame=function(){if(0<this._wait_frame)this._wait_frame--;else if(this._frame_countar++,this._motion_timeline.timeline.length>this._timeline_index&&this._motion_timeline.timeline[this._timeline_index].frame===this._frame_countar){for(var t=0;this._motion_timeline.timeline[this._timeline_index].data.length>t;t++){var e=this._motion_timeline.timeline[this._timeline_index].data[t];switch(e.code){case i.START_MOTION:this._start_motion(e);break;case i.CLEAR_LAYER:this._clear_motion(e);break;case i.CALL_FUNCTION:this._call_function(e)}}this._timeline_index++}},t.prototype.update_frame=function(t){if(this._start_flag)for(-1===this._time?this._time=1:this._time+=this._motion_timeline.frame_rate/t;this._time>=1;)this._update_one_frame(),this._time-=1},t}();o.motion_timeline=s,cc._RF.pop()},{"./motion_composition":"motion_composition","./motion_textures":"motion_textures"}],test_control:[function(t,e,o){"use strict";cc._RF.push(e,"0b79bNpMx9AObtSRWweZcJd","test_control");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var _=t.length-1;_>=0;_--)(n=t[_])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../System/PlayMotion/motion_control"),s=t("./Define/motion_layer_define"),_=t("./Define/motion_timeline_define"),c=t("./TestAEData/loop_test"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._test_text=null,e._test_conter=-1,e._test_audios={},e._motion_control=null,e}return i(e,t),e.prototype.onLoad=function(){this._motion_control=r.create_motion_control(_.MTL.ELEMENT_COUNT,[],[]),this.node.addChild(this._motion_control.node),cc.game.setFrameRate(61),cc.director.setAnimationInterval(1/60),this._motion_control.set_priority_control(s.PRIORITY_CONTROL_ID.DISPLAY,10,s.MOTION_LAYER.DISPLAY_START,s.MOTION_LAYER.DISPLAY_END),this._motion_control.set_priority_control(s.PRIORITY_CONTROL_ID.LAMP,50,s.MOTION_LAYER.LAMP_START,s.MOTION_LAYER.LAMP_END),this._test_set_timeline();var t=new cc.Node,e=t.addComponent(cc.Label);this._test_text=e,e.string="\u9015\uff7b\u8712\u4e0a\ufffd?\ufffd\u7e5d\uff62\u7e5d\uff7c\u7e67?\ufffd\ufffd\u7e5d\uff67\u7e5d\uff73\u7e3a?\ufffd\ufffd\u7e5d\ufffd\u7e5d\uff7c\u7e67?\ufffd\ufffd\u7e67\u5075\u039f\u7e5d\uff7c\u7e5d\ufffd?\ufffd\uff78?\ufffd\ufffd\u7e3a?\ufffd\ufffd\u7e3a\u5436\x80?\ufffd\ufffd",e.horizontalAlign=cc.Label.HorizontalAlign.CENTER,e.enableBold=!0,t.color=new cc.Color(0,255,0),this.node.addChild(t),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.test_KeyDown,this),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onClick,this)},e.prototype._test_set_timeline=function(){c.set_motion_loop_test(this._motion_control)},e.prototype.test_KeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.enter:cc.director.loadScene("test_001");break;case cc.macro.KEY.s:this._test_set_timeline(),this._test_conter=0;break;case cc.macro.KEY.p:this._motion_control.set_pause_flag(!0);break;case cc.macro.KEY.r:this._motion_control.set_pause_flag(!1);break;case cc.macro.KEY.f:this._motion_control.set_frame_advance()}},e.prototype.onClick=function(){this._test_set_timeline(),this._test_conter=0},e.prototype.update=function(t){if(this._motion_control.check_end_load_all())switch(this._test_conter){case-1:this._test_text.string="\u7e5d\uff6d\u7e5d\uff7c\u7e5d\u5ce8\u2032\u90a8\ufffd??\ufffd\ufffd?\ufffd\ufffd\u7e3a\u52b1\u222a\u7e3a\u52b1\ufffd?\u7e32?\ufffd\ufffd\n\u9015\uff7b\u9af1?\ufffd\ufffd\u7e67\u5075\u3051\u7e5d\uff6a\u7e5d\ufffd\u7e67?\ufffd\ufffd\u7e3a\u5436?\ufffd\ufffd\u7e3a?\ufffd\ufffd\u7e5d\ufffd\u7e67?\ufffd\ufffd\u7e5d\u4ea5\u865a\u83f4\u61ca\uff52\u9ae2\u53e5?\ufffd\ufffd\u4e5d\ufffd?\u7e3a?\ufffd\ufffd\u7e3a\u5436\x80?\ufffd\ufffd",this._test_conter=0;break;case-2:break;case 0:this._test_text.string="",this._motion_control.set_audios(this._test_audios),this._motion_control.start_timeline(),this._test_conter=1}},e=n([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../System/PlayMotion/motion_control":"motion_control","./Define/motion_layer_define":"motion_layer_define","./Define/motion_timeline_define":"motion_timeline_define","./TestAEData/loop_test":"loop_test"}],texutreList:[function(t,e,o){"use strict";cc._RF.push(e,"366da0CRL1IAYRldTu5OEgF","texutreList"),Object.defineProperty(o,"__esModule",{value:!0}),o.texturesList={bg0:"/assets/texture/loop_test/",ef0_test_000:"/assets/texture/loop_test/",ef0_test_001:"/assets/texture/loop_test/",ef0_test_002:"/assets/texture/loop_test/",ef0_test_003:"/assets/texture/loop_test/",ef0_test_004:"/assets/texture/loop_test/",ef0_test_005:"/assets/texture/loop_test/",ef0_test_006:"/assets/texture/loop_test/",ef0_test_007:"/assets/texture/loop_test/",ef0_test_008:"/assets/texture/loop_test/",ef0_test_009:"/assets/texture/loop_test/",ef0_test_010:"/assets/texture/loop_test/",ef0_test_011:"/assets/texture/loop_test/",ef0_test_012:"/assets/texture/loop_test/",ef0_test_013:"/assets/texture/loop_test/",ef0_test_014:"/assets/texture/loop_test/",ef0_test_015:"/assets/texture/loop_test/",obj0:"/assets/texture/loop_test/"},cc._RF.pop()},{}]},{},["motion_layer_define","motion_timeline_define","loop_test","test_control","control_code_function","motion_path","texutreList","BasePachinko","CanvasSize","OutHole","Random","Score","Score10","motion_composition","motion_control","motion_data_list","motion_priority","motion_textures","motion_timeline"]);